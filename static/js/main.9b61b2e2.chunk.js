(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[2],{376:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);n(132),n(140),n(141),n(143),n(76),n(128),n(149),n(150),n(151),n(154),n(155),n(156),n(160),n(161),n(162),n(163),n(166),n(167),n(168),n(174),n(99),n(178),n(129),n(182),n(183),n(184),n(185),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(242),n(248),n(249),n(250),n(256),n(257),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(291),n(292),n(293),n(295),n(296),n(298),n(300),n(301),n(302),n(303),n(304),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(333),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(130),n(206),n(207),n(208),n(210),n(122),n(352);var a=n(0),o=n.n(a),s=n(24),c=n.n(s),r=n(125),i=n(18),l=n(55),u=(n(376),n(64)),d=n(98);const j={installAdmin:async function(){return await d.a.post("".concat("https://quick-blog-demo.herokuapp.com","/api/services/install/createadmin"),{})}};var h=n(127),g=n(7);var b=()=>{const[e,t]=o.a.useState(null),[n,a]=o.a.useState(""),s=Object(h.useHistory)();o.a.useEffect((()=>{a(""),j.installAdmin().then((e=>{console.log(e.data),t(e.data)})).catch((e=>{a("Installation failed. Refresh again. or clean MongoCollection (User)")}))}),[]);return Object(g.jsx)("div",{children:Object(g.jsx)(u.j,{children:Object(g.jsx)(u.F,{children:Object(g.jsxs)(u.i,{children:[Object(g.jsx)("h2",{children:"creating Admin User...Please wait..."}),e&&Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Note down below admin login password: "}),Object(g.jsx)("p",{children:"Login: admin"}),Object(g.jsxs)("p",{children:["Password: ",e.adminpassword]}),Object(g.jsx)("br",{}),Object(g.jsx)(u.d,{onClick:()=>{s.push("/login")},children:"Login here"})]}),n&&Object(g.jsx)("div",{children:Object(g.jsx)("p",{style:{color:"red"},children:n})})]})})})})};const p=Object(g.jsx)("div",{className:"pt-3 text-center",children:Object(g.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),m=o.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(5),n.e(7)]).then(n.bind(null,593)))),x=o.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,571)))),O=o.a.lazy((()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,573)))),v=o.a.lazy((()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,574))));var f=function(){return console.log("value of authService.getUser"+l.a.getUser),Object(g.jsx)(r.a,{children:Object(g.jsx)(o.a.Suspense,{fallback:p,children:Object(g.jsxs)(i.Switch,{children:[Object(g.jsx)(i.Route,{path:"/login",exact:!0,name:"Login Page",render:e=>Object(g.jsx)(x,{...e})}),Object(g.jsx)(i.Route,{path:"/install",exact:!0,name:"Install Page",render:e=>Object(g.jsx)(b,{...e})}),Object(g.jsx)(i.Route,{exact:!0,path:"/404",name:"Page 404",render:e=>Object(g.jsx)(O,{...e})}),Object(g.jsx)(i.Route,{exact:!0,path:"/500",name:"Page 500",render:e=>Object(g.jsx)(v,{...e})}),!l.a.getUser&&Object(g.jsx)(i.Route,{path:"/",name:"Login Page",render:e=>Object(g.jsx)(x,{...e})}),l.a.getUser&&Object(g.jsx)(i.Route,{path:"/",name:"Home Page",render:e=>Object(g.jsx)(m,{...e})})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(131),k=n(221);const y={sidebarShow:!0},P=Object(k.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,{type:t,...n}=arguments.length>1?arguments[1]:void 0;return"set"===t?{...e,...n}:e}));var S=P;c.a.render(Object(g.jsx)(w.a,{store:S,children:Object(g.jsx)(f,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(98),o=n(387);const s=new o.a(JSON.parse(localStorage.getItem("user"))),c={authenticate:async function(e,t){let n=await a.a.post("".concat("https://quick-blog-demo.herokuapp.com","/api/services/login/"),{userid:e,password:t});n?(console.log("setting local storage"),localStorage.setItem("user",JSON.stringify(n.data)),s.next(n.data),console.log(s.value)):console.log("null userData");return n},logout:async function(){localStorage.removeItem("user"),s.next(null)},get getUser(){return s.value}}},98:function(e,t,n){"use strict";var a=n(55);const o=n(358);function s(e){e.startsWith("https://quick-blog-demo.herokuapp.com");let t=a.a.getUser;console.log(t);let n=!1;if(t&&t.token&&(n=!0),n){let e={Authorization:"Bearer ".concat(t.token)};return console.log("auth header is "),console.log(e),e}return console.log("no auth header"),{}}t.a={get:async function(e){return await o.get(e,{headers:s(e)})},post:async function(e,t){return await o.post(e,t,{headers:s(e)})}}}},[[386,3,4]]]);
//# sourceMappingURL=main.9b61b2e2.chunk.js.map